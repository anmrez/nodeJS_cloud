extends layout/layout.pug

block header__content
  link(rel="stylesheet" href="/views/assets/style/home.css")

block content

  section(class="block")
    section(class="container")
      h1 Homer page

  section(class="block" id="blockFiles")
    section(class="container")
      section(class="files")
        //- если есть фалы
        if presenceOfFiles
          //- отображение шапки
          ul(id="files" class="header__files mt_30")
            div(class="df pasteFiles")
              h4 Files
              p sorting:
                span(id="sortName" class="active__up") name
                span(id="sortSize" class="") size
                
                
          //- рендер папок
          each val in userFiles
            if val.isFolder
              li(class="view__files")
                span(class="file__name")= val.name
                a(href="?folder=" + val.name class="folder__link" data-nameFile= val.name data-type="folder" )
                ul(class="file__control df_ja")
                  if locationInFolder == false
                    //- button 'download'
                    li(href= 'download' + '?folder=' + val.name class="df_ja") 
                      include assets/icons/download.svg
                    //- button 'share'
                    li(class="df_ja shareButton") 
                      include assets/icons/share_v2.svg
                      span(class="link__copied") Link copied
                    input(class="share__link" value='download' + '?folder='+ val.name + '&id=' + userID READONLY)
                    //- button 'delete'
                    li(href= 'delete-file' + '?folder=' + val.name class="df_ja ") 
                      include assets/icons/bincan.svg
          //- рендер файлов
          each val in userFiles
            if val.isFolder == false
              li(class="view__files" data-nameFile= val.name data-type="file")
                span(class="file__name")= val.name
                span(class="file__size")= val.size
                ul(class="file__control df_ja")
                  if locationInFolder == false
                    //- button 'download'
                    li(href= 'download' + '?file=' + val.name class="df_ja") 
                      include assets/icons/download.svg
                    //- button 'share'
                    li(class="df_ja shareButton") 
                      include assets/icons/share_v2.svg
                      span(class="link__copied") Link copied
                    input(class="share__link" value='download' + '?file='+ val.name + '&id=' + userID READONLY)
                    //- button 'delete'
                    li(href= 'delete-file' + '?file=' + val.name class="df_ja ") 
                      include assets/icons/bincan.svg
                      
                      
                  //- if locationInFolder == true
                  else
                    //- button 'download'
                    li(href= 'download' + '?file=' + val.name + '&folder=' + folder class="df_ja") 
                      include assets/icons/download.svg
                      
                    //- button 'share'
                    li(class="df_ja shareButton") 
                      include assets/icons/share_v2.svg
                      span(class="link__copied") Link copied
                    input(class="share__link" value='download' + '?file='+ val.name + '&id=' + userID + '&folder=' + folder  READONLY)
                    
                    //- include assets/icons/share.svg
                    //- button 'delete'
                    li(href= 'delete-file' + '?file=' + val.name + '&folder=' + folder  class="df_ja ") 
                      include assets/icons/bincan.svg
                      
                      
          //- END each
        //-  если нет файлов
        else 
          p you don't have any files uploaded
          
        //- кнопка с загрузкой
        section(class="df_ja mt_20")
          div(class="btn df_ja" id="btnUpload") choose file 
            include assets/icons/download.svg
            //- input(id="input_files" class="input__files" form="formFiles" type="file" name="uploadFiles" value="choose file" multiple)
          p(class="ml_10") or drag file 
          //- input(type="submit" form="formFiles" value="submit" id="buttonForm")
  
  section(class="block" id="formDrag")
    section(class="container")
      form(id="formFiles" class="" action="/upload" method="post" enctype="multipart/form-data")
        input(id="input_files" type="file" name="uploadFiles" value="" multiple)
        input(type="submit" value="submit" id="buttonForm")
          
  include includes/context__menu.pug
      
      
  form(id="fileInteractionWindow" class="active" action="/" method="post" data-item='FIW')
    section(class="df_a just_bet FIW__header" data-item='FIW')
      h4(id="FIWTitle") title
      span(id="cancel")
    section(class="FIW__content df_ja mt_20" data-item='FIW')
      ul(id="FIWFolder" class='none mb_10')
        each val in userFiles
          if val.isFolder
            li(class="df_a" data-folder= val.name )
              span(class="triangle ml_5")
              span(class="ml_5")= val.name
      input(id="nameOperation"  name="operation" type="hidden" value="")
      input(id="newNameFile"  name="newName" type="text" value="name file" autocomplete='off')
      span(id="statusCopy" class="ml_10 df_ja")
      input(id="oldNameFile"  name="oldName" type="hidden" value="")
    section(class="FIW__btn mt_20" data-item='FIW')
      a(id="cancel" class="btn" ) Cancel
      input(id="inputSubmit" class="btn" type="submit"  value="Save")
      a(id="copyLinc" class="btn none" ) Copy linc
      
      
  p(id='pageLogs')
  
          
  script(type="text/javascript" src="../views/assets/js/drag.js")
  script(type="text/javascript" src="../views/assets/js/share.js")
  script(type="text/javascript" src="../views/assets/js/sort.js")
  
  script(type="text/javascript" src="../views/assets/js/contextmenu.js")
  script(type="text/javascript" src="../views/assets/js/animation.js")
  script(type="text/javascript" src="../views/assets/js/request.js")
  
